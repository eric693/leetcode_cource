<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>#85 Maximal Rectangle | LeetCode å­¸ç¿’å¹³å°</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; color: #333; background: #f8fafc; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%); color: white; padding: 30px; border-radius: 12px; margin-bottom: 30px; box-shadow: 0 4px 6px rgba(220, 38, 38, 0.2); }
        .header h1 { font-size: 2em; margin-bottom: 10px; }
        .difficulty { display: inline-block; padding: 6px 16px; background: rgba(255,255,255,0.2); border-radius: 20px; font-size: 0.9em; font-weight: 600; }
        .tags { margin-top: 15px; }
        .tag { display: inline-block; background: rgba(255,255,255,0.15); padding: 4px 12px; border-radius: 6px; margin-right: 8px; font-size: 0.85em; }
        .back-btn { display: inline-block; margin-bottom: 20px; padding: 10px 20px; background: #3b82f6; color: white; text-decoration: none; border-radius: 8px; transition: background 0.3s; }
        .back-btn:hover { background: #2563eb; }
        .section { background: white; padding: 30px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .section h2 { color: #1e293b; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 3px solid #dc2626; }
        .section h3 { color: #475569; margin: 25px 0 15px 0; font-size: 1.3em; }
        .code-block { background: #282c34; border-radius: 8px; overflow: hidden; margin: 15px 0; }
        .lang-tabs { display: flex; background: #21252b; border-bottom: 1px solid #181a1f; }
        .lang-tab { padding: 12px 24px; cursor: pointer; color: #abb2bf; border: none; background: none; transition: all 0.3s; font-weight: 500; }
        .lang-tab.active { color: #61afef; background: #282c34; border-bottom: 2px solid #61afef; }
        .lang-tab:hover { color: #61afef; background: #2c313a; }
        .code-content { display: none; }
        .code-content.active { display: block; }
        pre { margin: 0; }
        code { font-family: 'Consolas', 'Monaco', 'Courier New', monospace; font-size: 0.9em; }
        .example { background: #f0f9ff; border-left: 4px solid #3b82f6; padding: 20px; margin: 15px 0; border-radius: 0 8px 8px 0; }
        .example-title { font-weight: 700; color: #1e40af; margin-bottom: 12px; font-size: 1.05em; }
        .visual-box { background: #fef3c7; border: 2px solid #f59e0b; padding: 20px; border-radius: 8px; margin: 15px 0; }
        .visual-title { font-weight: 700; color: #92400e; margin-bottom: 12px; display: flex; align-items: center; font-size: 1.05em; }
        .complexity { background: #f1f5f9; padding: 15px; border-radius: 8px; margin: 15px 0; }
        .complexity-item { margin: 8px 0; color: #475569; }
        .key-point { background: #dcfce7; border-left: 4px solid #16a34a; padding: 15px 20px; margin: 15px 0; border-radius: 0 8px 8px 0; }
        ul, ol { margin-left: 25px; margin-top: 10px; }
        li { margin: 8px 0; color: #475569; }
        strong { color: #1e293b; }
        .note { background: #fef3c7; border-left: 4px solid #f59e0b; padding: 15px 20px; margin: 15px 0; border-radius: 0 8px 8px 0; }
        @media (max-width: 768px) {
            .container { padding: 10px; }
            .header h1 { font-size: 1.5em; }
            .section { padding: 20px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-btn">â† è¿”å›é¡Œç›®åˆ—è¡¨</a>
        
        <div class="header">
            <h1>#85 Maximal Rectangle</h1>
            <div class="difficulty">Hard</div>
            <div class="tags">
                <span class="tag">Array</span>
                <span class="tag">Dynamic Programming</span>
                <span class="tag">Stack</span>
                <span class="tag">Matrix</span>
            </div>
        </div>

        <div class="section">
            <h2>é¡Œç›®æè¿°</h2>
            <p>çµ¦å®šä¸€å€‹åƒ…åŒ…å« 0 å’Œ 1 çš„äºŒç¶­äºŒé€²åˆ¶çŸ©é™£ï¼Œæ‰¾å‡ºåªåŒ…å« 1 çš„æœ€å¤§çŸ©å½¢ï¼Œä¸¦è¿”å›å…¶é¢ç©ã€‚</p>
        </div>

        <div class="section">
            <h2>ç¯„ä¾‹</h2>
            
            <div class="example">
                <div class="example-title">ç¯„ä¾‹ 1ï¼š</div>
                <pre style="background: white; padding: 15px; border-radius: 4px; margin-top: 10px;">
<strong>è¼¸å…¥ï¼š</strong>
matrix = [
  ["1","0","1","0","0"],
  ["1","0","1","1","1"],
  ["1","1","1","1","1"],
  ["1","0","0","1","0"]
]

<strong>è¼¸å‡ºï¼š</strong>6

<strong>è§£é‡‹ï¼š</strong>
æœ€å¤§çŸ©å½¢å¦‚ä¸‹æ‰€ç¤ºï¼ˆç”¨ * æ¨™è¨˜ï¼‰ï¼š
[
  ["1","0","1","0","0"],
  ["1","0","*","*","*"],
  ["1","1","*","*","*"],
  ["1","0","0","1","0"]
]
é¢ç© = 3 Ã— 2 = 6
                </pre>
            </div>

            <div class="example">
                <div class="example-title">ç¯„ä¾‹ 2ï¼š</div>
                <strong>è¼¸å…¥ï¼š</strong>matrix = [["0"]]<br>
                <strong>è¼¸å‡ºï¼š</strong>0
            </div>

            <div class="example">
                <div class="example-title">ç¯„ä¾‹ 3ï¼š</strong>
                <strong>è¼¸å…¥ï¼š</strong>matrix = [["1"]]<br>
                <strong>è¼¸å‡ºï¼š</strong>1
            </div>
        </div>

        <div class="section">
            <h2>è§£é¡Œæ€è·¯</h2>
            
            <div class="visual-box">
                <div class="visual-title">ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µï¼šè½‰åŒ–ç‚ºæŸ±ç‹€åœ–å•é¡Œ</div>
                <p><strong>é—œéµæ´å¯Ÿï¼š</strong>å°‡æ¯ä¸€è¡Œè¦–ç‚ºæŸ±ç‹€åœ–çš„åº•éƒ¨ï¼Œåˆ©ç”¨ #84 Largest Rectangle in Histogram çš„è§£æ³•ã€‚</p>
                <ol style="margin-top: 10px;">
                    <li>å°æ¯ä¸€è¡Œï¼Œè¨ˆç®—ä»¥è©²è¡Œç‚ºåº•çš„æŸ±ç‹€åœ–é«˜åº¦</li>
                    <li>å°æ¯å€‹æŸ±ç‹€åœ–ï¼Œä½¿ç”¨å–®èª¿æ£§æ‰¾æœ€å¤§çŸ©å½¢</li>
                    <li>å–æ‰€æœ‰è¡Œçš„æœ€å¤§å€¼</li>
                </ol>
            </div>

            <h3>è½‰åŒ–éç¨‹è©³è§£</h3>
            <div class="visual-box">
                <div class="visual-title">ğŸ”„ çŸ©é™£ â†’ æŸ±ç‹€åœ–è½‰æ›</div>
                <pre style="background: white; padding: 15px; border-radius: 4px; margin-top: 10px;">
åŸå§‹çŸ©é™£:
1 0 1 0 0
1 0 1 1 1
1 1 1 1 1
1 0 0 1 0

<strong>ç¬¬ 0 è¡Œç‚ºåº•çš„æŸ±ç‹€åœ–:</strong>
é«˜åº¦: [1, 0, 1, 0, 0]
     â”‚   â”‚   â”‚   â”‚   â”‚
     1   0   1   0   0

<strong>ç¬¬ 1 è¡Œç‚ºåº•çš„æŸ±ç‹€åœ–:</strong>
é«˜åº¦: [2, 0, 2, 1, 1]
     â”‚â”‚      â”‚â”‚  â”‚   â”‚
     21      21  1   1
     
æœ€å¤§çŸ©å½¢é¢ç© = 2 (ç´¢å¼• 2ï¼Œé«˜åº¦ 2ï¼Œå¯¬åº¦ 1)

<strong>ç¬¬ 2 è¡Œç‚ºåº•çš„æŸ±ç‹€åœ–:</strong>
é«˜åº¦: [3, 1, 3, 2, 2]
     â”‚â”‚â”‚ â”‚  â”‚â”‚â”‚ â”‚â”‚  â”‚â”‚
     321 1  321 21  21
     
æœ€å¤§çŸ©å½¢é¢ç© = 6 (ç´¢å¼• 2-4ï¼Œé«˜åº¦ 2ï¼Œå¯¬åº¦ 3) âœ“

<strong>ç¬¬ 3 è¡Œç‚ºåº•çš„æŸ±ç‹€åœ–:</strong>
é«˜åº¦: [4, 0, 0, 3, 0]
     â”‚â”‚â”‚â”‚        â”‚â”‚â”‚
     4321        321
     
æœ€å¤§çŸ©å½¢é¢ç© = 4
                </pre>
            </div>

            <h3>é«˜åº¦è¨ˆç®—è¦å‰‡</h3>
            <div class="visual-box">
                <div class="visual-title">ğŸ“Š å‹•æ…‹è¦åŠƒæ›´æ–°é«˜åº¦</div>
                <pre style="background: white; padding: 15px; border-radius: 4px; margin-top: 10px;">
å°æ–¼ä½ç½® (i, j):
- å¦‚æœ matrix[i][j] == '1':
    heights[j] = heights[j] + 1  (ç´¯åŠ é«˜åº¦)
- å¦‚æœ matrix[i][j] == '0':
    heights[j] = 0  (é‡ç½®ç‚º 0)

ç¯„ä¾‹:
ç¬¬ 0 è¡Œ: 1 0 1 0 0 â†’ heights = [1, 0, 1, 0, 0]
ç¬¬ 1 è¡Œ: 1 0 1 1 1 â†’ heights = [2, 0, 2, 1, 1]
ç¬¬ 2 è¡Œ: 1 1 1 1 1 â†’ heights = [3, 1, 3, 2, 2]
ç¬¬ 3 è¡Œ: 1 0 0 1 0 â†’ heights = [4, 0, 0, 3, 0]
                </pre>
            </div>

            <h3>æ–¹æ³•æ¯”è¼ƒ</h3>
            <ul>
                <li><strong>æ–¹æ³•ä¸€ï¼šå–®èª¿æ£§ï¼ˆæœ€å„ªï¼‰</strong> - ä½¿ç”¨ #84 çš„å–®èª¿æ£§è§£æ³•</li>
                <li><strong>æ–¹æ³•äºŒï¼šå‹•æ…‹è¦åŠƒ</strong> - ç¶­è­·æ¯å€‹ä½ç½®çš„å·¦å³é‚Šç•Œå’Œé«˜åº¦</li>
                <li><strong>æ–¹æ³•ä¸‰ï¼šæš´åŠ›æ³•</strong> - æšèˆ‰æ‰€æœ‰å¯èƒ½çš„çŸ©å½¢ï¼ˆä¸æ¨è–¦ï¼‰</li>
            </ul>
        </div>

        <div class="section">
            <h2>ç¨‹å¼ç¢¼å¯¦ç¾</h2>
            
            <div class="code-block">
                <div class="lang-tabs">
                    <button class="lang-tab active" onclick="switchLang(event, 'python')">Python</button>
                    <button class="lang-tab" onclick="switchLang(event, 'cpp')">C++</button>
                    <button class="lang-tab" onclick="switchLang(event, 'java')">Java</button>
                </div>

                <div id="python" class="code-content active">
                    <pre><code class="language-python"># æ–¹æ³•ä¸€ï¼šå–®èª¿æ£§ï¼ˆæœ€å„ªè§£ï¼‰
class Solution:
    def maximalRectangle(self, matrix: List[List[str]]) -> int:
        if not matrix or not matrix[0]:
            return 0
        
        n = len(matrix[0])
        heights = [0] * n
        max_area = 0
        
        for row in matrix:
            # æ›´æ–°é«˜åº¦é™£åˆ—
            for j in range(n):
                if row[j] == '1':
                    heights[j] += 1
                else:
                    heights[j] = 0
            
            # å°ç•¶å‰é«˜åº¦é™£åˆ—æ±‚æœ€å¤§çŸ©å½¢
            max_area = max(max_area, self.largestRectangleArea(heights))
        
        return max_area
    
    def largestRectangleArea(self, heights: List[int]) -> int:
        """ä½¿ç”¨å–®èª¿æ£§æ±‚æŸ±ç‹€åœ–æœ€å¤§çŸ©å½¢"""
        stack = []
        max_area = 0
        heights = [0] + heights + [0]  # æ·»åŠ å“¨å…µ
        
        for i in range(len(heights)):
            while stack and heights[i] < heights[stack[-1]]:
                h = heights[stack.pop()]
                w = i - stack[-1] - 1
                max_area = max(max_area, h * w)
            stack.append(i)
        
        return max_area


# æ–¹æ³•äºŒï¼šå‹•æ…‹è¦åŠƒ
class Solution:
    def maximalRectangle(self, matrix: List[List[str]]) -> int:
        if not matrix or not matrix[0]:
            return 0
        
        m, n = len(matrix), len(matrix[0])
        
        # ç¶­è­·ä¸‰å€‹ DP é™£åˆ—
        heights = [0] * n  # ç•¶å‰ä½ç½®çš„é«˜åº¦
        left = [0] * n     # å·¦é‚Šç•Œï¼ˆå«ï¼‰
        right = [n] * n    # å³é‚Šç•Œï¼ˆä¸å«ï¼‰
        
        max_area = 0
        
        for i in range(m):
            # æ›´æ–°é«˜åº¦
            for j in range(n):
                if matrix[i][j] == '1':
                    heights[j] += 1
                else:
                    heights[j] = 0
            
            # æ›´æ–°å·¦é‚Šç•Œ
            cur_left = 0
            for j in range(n):
                if matrix[i][j] == '1':
                    left[j] = max(left[j], cur_left)
                else:
                    left[j] = 0
                    cur_left = j + 1
            
            # æ›´æ–°å³é‚Šç•Œ
            cur_right = n
            for j in range(n - 1, -1, -1):
                if matrix[i][j] == '1':
                    right[j] = min(right[j], cur_right)
                else:
                    right[j] = n
                    cur_right = j
            
            # è¨ˆç®—é¢ç©
            for j in range(n):
                max_area = max(max_area, heights[j] * (right[j] - left[j]))
        
        return max_area


# æ–¹æ³•ä¸‰ï¼šç°¡æ½”ç‰ˆå–®èª¿æ£§
class Solution:
    def maximalRectangle(self, matrix: List[List[str]]) -> int:
        if not matrix:
            return 0
        
        max_area = 0
        heights = [0] * len(matrix[0])
        
        for row in matrix:
            # æ›´æ–°é«˜åº¦
            for i, val in enumerate(row):
                heights[i] = heights[i] + 1 if val == '1' else 0
            
            # è¨ˆç®—æœ€å¤§çŸ©å½¢ï¼ˆä½¿ç”¨å–®èª¿æ£§ï¼‰
            stack = [-1]
            for i in range(len(heights)):
                while stack[-1] != -1 and heights[i] < heights[stack[-1]]:
                    h = heights[stack.pop()]
                    w = i - stack[-1] - 1
                    max_area = max(max_area, h * w)
                stack.append(i)
            
            # è™•ç†å‰©é¤˜å…ƒç´ 
            while stack[-1] != -1:
                h = heights[stack.pop()]
                w = len(heights) - stack[-1] - 1
                max_area = max(max_area, h * w)
        
        return max_area
</code></pre>
                </div>

                <div id="cpp" class="code-content">
                    <pre><code class="language-cpp">// æ–¹æ³•ä¸€ï¼šå–®èª¿æ£§
class Solution {
public:
    int maximalRectangle(vector<vector<char>>& matrix) {
        if (matrix.empty() || matrix[0].empty()) return 0;
        
        int n = matrix[0].size();
        vector<int> heights(n, 0);
        int maxArea = 0;
        
        for (auto& row : matrix) {
            // æ›´æ–°é«˜åº¦
            for (int j = 0; j < n; j++) {
                heights[j] = (row[j] == '1') ? heights[j] + 1 : 0;
            }
            
            // è¨ˆç®—æœ€å¤§çŸ©å½¢
            maxArea = max(maxArea, largestRectangleArea(heights));
        }
        
        return maxArea;
    }
    
private:
    int largestRectangleArea(vector<int>& heights) {
        stack<int> stk;
        int maxArea = 0;
        heights.insert(heights.begin(), 0);
        heights.push_back(0);
        
        for (int i = 0; i < heights.size(); i++) {
            while (!stk.empty() && heights[i] < heights[stk.top()]) {
                int h = heights[stk.top()];
                stk.pop();
                int w = i - stk.top() - 1;
                maxArea = max(maxArea, h * w);
            }
            stk.push(i);
        }
        
        return maxArea;
    }
};


// æ–¹æ³•äºŒï¼šå‹•æ…‹è¦åŠƒ
class Solution {
public:
    int maximalRectangle(vector<vector<char>>& matrix) {
        if (matrix.empty() || matrix[0].empty()) return 0;
        
        int m = matrix.size(), n = matrix[0].size();
        vector<int> heights(n, 0), left(n, 0), right(n, n);
        int maxArea = 0;
        
        for (int i = 0; i < m; i++) {
            // æ›´æ–°é«˜åº¦
            for (int j = 0; j < n; j++) {
                heights[j] = (matrix[i][j] == '1') ? heights[j] + 1 : 0;
            }
            
            // æ›´æ–°å·¦é‚Šç•Œ
            int curLeft = 0;
            for (int j = 0; j < n; j++) {
                if (matrix[i][j] == '1') {
                    left[j] = max(left[j], curLeft);
                } else {
                    left[j] = 0;
                    curLeft = j + 1;
                }
            }
            
            // æ›´æ–°å³é‚Šç•Œ
            int curRight = n;
            for (int j = n - 1; j >= 0; j--) {
                if (matrix[i][j] == '1') {
                    right[j] = min(right[j], curRight);
                } else {
                    right[j] = n;
                    curRight = j;
                }
            }
            
            // è¨ˆç®—é¢ç©
            for (int j = 0; j < n; j++) {
                maxArea = max(maxArea, heights[j] * (right[j] - left[j]));
            }
        }
        
        return maxArea;
    }
};
</code></pre>
                </div>

                <div id="java" class="code-content">
                    <pre><code class="language-java">// æ–¹æ³•ä¸€ï¼šå–®èª¿æ£§
class Solution {
    public int maximalRectangle(char[][] matrix) {
        if (matrix.length == 0 || matrix[0].length == 0) return 0;
        
        int n = matrix[0].length;
        int[] heights = new int[n];
        int maxArea = 0;
        
        for (char[] row : matrix) {
            // æ›´æ–°é«˜åº¦
            for (int j = 0; j < n; j++) {
                heights[j] = (row[j] == '1') ? heights[j] + 1 : 0;
            }
            
            // è¨ˆç®—æœ€å¤§çŸ©å½¢
            maxArea = Math.max(maxArea, largestRectangleArea(heights));
        }
        
        return maxArea;
    }
    
    private int largestRectangleArea(int[] heights) {
        Stack<Integer> stack = new Stack<>();
        int maxArea = 0;
        int[] h = new int[heights.length + 2];
        h[0] = 0;
        h[h.length - 1] = 0;
        System.arraycopy(heights, 0, h, 1, heights.length);
        
        for (int i = 0; i < h.length; i++) {
            while (!stack.isEmpty() && h[i] < h[stack.peek()]) {
                int height = h[stack.pop()];
                int width = i - stack.peek() - 1;
                maxArea = Math.max(maxArea, height * width);
            }
            stack.push(i);
        }
        
        return maxArea;
    }
}
</code></pre>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>è¤‡é›œåº¦åˆ†æ</h2>
            <div class="complexity">
                <div class="complexity-item">
                    <strong>å–®èª¿æ£§è§£æ³•ï¼š</strong>
                    <ul>
                        <li>æ™‚é–“è¤‡é›œåº¦ï¼šO(m Ã— n)ï¼Œm å’Œ n æ˜¯çŸ©é™£çš„è¡Œæ•¸å’Œåˆ—æ•¸</li>
                        <li>ç©ºé–“è¤‡é›œåº¦ï¼šO(n)ï¼Œé«˜åº¦é™£åˆ—å’Œæ£§çš„ç©ºé–“</li>
                    </ul>
                </div>
                <div class="complexity-item">
                    <strong>å‹•æ…‹è¦åŠƒè§£æ³•ï¼š</strong>
                    <ul>
                        <li>æ™‚é–“è¤‡é›œåº¦ï¼šO(m Ã— n)</li>
                        <li>ç©ºé–“è¤‡é›œåº¦ï¼šO(n)ï¼Œä¸‰å€‹ DP é™£åˆ—</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>é‡é»æç¤º</h2>
            
            <div class="key-point">
                <strong>ğŸ’¡ é—œéµæŠ€å·§ 1ï¼šå•é¡Œè½‰åŒ–</strong>
                <p>å°‡ 2D å•é¡Œè½‰åŒ–ç‚ºå¤šå€‹ 1D æŸ±ç‹€åœ–å•é¡Œï¼Œè¤‡ç”¨ #84 çš„è§£æ³•ã€‚</p>
            </div>

            <div class="key-point">
                <strong>ğŸ’¡ é—œéµæŠ€å·§ 2ï¼šé«˜åº¦æ›´æ–°</strong>
                <p>é‡åˆ° '1' ç´¯åŠ é«˜åº¦ï¼Œé‡åˆ° '0' é‡ç½®ç‚º 0ã€‚</p>
            </div>

            <div class="key-point">
                <strong>ğŸ’¡ é—œéµæŠ€å·§ 3ï¼šå–®èª¿æ£§å„ªåŒ–</strong>
                <p>ä½¿ç”¨å–®èª¿æ£§å¯ä»¥åœ¨ O(n) æ™‚é–“å…§æ±‚å‡ºæŸ±ç‹€åœ–çš„æœ€å¤§çŸ©å½¢ã€‚</p>
            </div>

            <div class="note">
                <strong>âš ï¸ å¸¸è¦‹éŒ¯èª¤ï¼š</strong>
                <ul>
                    <li>å¿˜è¨˜åœ¨é‡åˆ° '0' æ™‚é‡ç½®é«˜åº¦ç‚º 0</li>
                    <li>æ²’æœ‰æ­£ç¢ºè™•ç†ç©ºçŸ©é™£çš„æƒ…æ³</li>
                    <li>å–®èª¿æ£§å¯¦ç¾æ™‚å¿˜è¨˜æ·»åŠ å“¨å…µå…ƒç´ </li>
                    <li>DP è§£æ³•ä¸­å·¦å³é‚Šç•Œåˆå§‹åŒ–éŒ¯èª¤</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>ç›¸é—œé¡Œç›®</h2>
            <ul>
                <li><strong>#84 Largest Rectangle in Histogram</strong> - æŸ±ç‹€åœ–æœ€å¤§çŸ©å½¢ï¼ˆæœ¬é¡ŒåŸºç¤ï¼‰</li>
                <li><strong>#221 Maximal Square</strong> - æœ€å¤§æ­£æ–¹å½¢ï¼ˆé¡ä¼¼ä½†æ›´ç°¡å–®ï¼‰</li>
                <li><strong>#1277 Count Square Submatrices</strong> - çµ±è¨ˆæ­£æ–¹å½¢å­çŸ©é™£</li>
            </ul>
        </div>
    </div>

    <script>
        function switchLang(event, lang) {
            const tabs = document.querySelectorAll('.lang-tab');
            const contents = document.querySelectorAll('.code-content');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(lang).classList.add('active');
        }
        
        hljs.highlightAll();
    </script>
</body>
</html>